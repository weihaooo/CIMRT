<?xml version="1.0" encoding="UTF-8" ?> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

        <ui:define name="content">
            <table width="100%" cellpadding="5">
                <tr>
                    <td valign="top" width='20%'>
                        <div class="card-w-title">               
                            <p:panelMenu>
                                <p:submenu id="joinUs" label="Join Us" icon="ui-icon-people" expanded="true">
                                    <p:menuitem id="recruitment" value="CIMRT Recruitment" icon="ui-icon-work" outcome="/recruitment" />
                                    <p:menuitem id="lifeCIMRT" value="Life at CIMRT" icon="ui-icon-star" outcome="/index"  />   
                                </p:submenu>
                            </p:panelMenu>
                        </div>
                    </td>
                    <td valign="top" width="80%">
                        <div class="card card-w-title">
                            <h1 style="color:#003c95;"><b>Job Application</b></h1> 
                            <h:form>
                                <p:messages id="messages" severity="info" showDetail="true"/>

                                <h:panelGrid columns="3" cellpadding="5">
                                    <p:outputLabel for="firstName" value="First Name: " />        
                                    <p:inputText id="firstName" required="true" value="#{careerManagedBean.firstName}" validatorMessage="Please enter alphabets only" requiredMessage="Value is required in this field">
                                        <f:validateRegex pattern="[a-zA-Z\s]*" /> 
                                    </p:inputText>
                                    <p:message for="firstName" />

                                    <p:outputLabel for="lastName" value="Last Name: " />        
                                    <p:inputText id="lastName" required="true" value="#{careerManagedBean.lastName}" validatorMessage="Please enter alphabets only" requiredMessage="Value is required in this field">
                                        <f:validateRegex pattern="[a-zA-Z\s]*" /> 
                                    </p:inputText>
                                    <p:message for="lastName" />

                                    <p:outputLabel for="nric" value="NRIC: " />        
                                    <p:inputText id="nric" required="true" value="#{careerManagedBean.nric}" requiredMessage="Value is required in this field"/>
                                    <p:message for="nric" /> 

                                    <p:outputLabel for="phoneNumber" value="Phone Number: " />        
                                    <p:inputNumber id="phoneNumber" thousandSeparator="" decimalPlaces="0" required="true" value="#{careerManagedBean.phoneNumber}" validatorMessage="Allowable length is minimum of '8'" requiredMessage="Value is required in this field">
                                        <f:validateLength minimum="8"/> 
                                    </p:inputNumber>
                                    <p:message for="phoneNumber" /> 

                                    <p:outputLabel for="emailAddress" value="Email: " />        
                                    <p:inputText id="emailAddress" required="true" value="#{careerManagedBean.emailAddress}" validatorMessage="Invalid email format" requiredMessage="Value is required in this field">
                                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" /> 
                                    </p:inputText>
                                    <p:message for="emailAddress" /> 

                                    <p:outputLabel for="address" value="Address: " />        
                                    <p:inputText id="address" required="true" value="#{careerManagedBean.address}" requiredMessage="Value is required in this field"/>
                                    <p:message for="address" />

                                    <p:outputLabel for="gender" value="Gender: " />
                                    <p:selectOneRadio id="gender" required="true" value="#{careerManagedBean.gender}" requiredMessage="Please select a gender">
                                        <f:selectItem itemLabel="Male" itemValue="M" />
                                        <f:selectItem itemLabel="Female" itemValue="F" />
                                    </p:selectOneRadio>
                                    <p:message for="gender" />

                                    <p:outputLabel for="dateOfBirth" value="Date of Birth: " />
                                    <p:calendar id="dateOfBirth" required="true" value="#{careerManagedBean.dateOfBirth}" maxdate="#{careerManagedBean.today}" locale="de" navigator="true" pattern="dd/MM/yyyy" yearRange="c-80:c+0" requiredMessage="Please select a date"/>
                                    <p:message for="dateOfBirth" />

                                    <p:outputLabel for="maritalStatus" value="Marital Status: " />
                                    <p:selectOneMenu id="maritalStatus" required="true" value="#{careerManagedBean.maritalStatus}" style="width:125px" requiredMessage="Please select a marital status">
                                        <f:selectItem itemLabel="Select One" itemValue="" />
                                        <f:selectItem itemLabel="Single" itemValue="Single" />
                                        <f:selectItem itemLabel="Married" itemValue="Married" />
                                        <f:selectItem itemLabel="Divorced" itemValue="Divorced" />
                                        <f:selectItem itemLabel="Widowed" itemValue="Widowed" />
                                    </p:selectOneMenu>
                                    <p:message for="maritalStatus" />

                                    <p:outputLabel for="race" value="Race: " />
                                    <p:selectOneMenu id="race" required="true" value="#{careerManagedBean.race}" style="width:125px" requiredMessage="Please select a race">
                                        <f:selectItem itemLabel="Select One" itemValue="" />
                                        <f:selectItem itemLabel="Chinese" itemValue="Chinese" />
                                        <f:selectItem itemLabel="Malay" itemValue="Malay" />
                                        <f:selectItem itemLabel="Indian" itemValue="Indian" />
                                        <f:selectItem itemLabel="Eurasian" itemValue="Eurasian" />
                                        <f:selectItem itemLabel="Others" itemValue="Others" />
                                    </p:selectOneMenu>
                                    <p:message for="race" />

                                    <p:outputLabel for="nationality" value="Nationality: " />
                                    <p:selectOneMenu id="nationality" required="true" value="#{careerManagedBean.nationality}" style="width:125px" requiredMessage="Please select a nationality">
                                        <f:selectItem itemLabel="Select One" itemValue="" />
                                        <f:selectItem itemLabel="Singaporean" itemValue="Singaporean" />
                                        <f:selectItem itemLabel="Coral Islander" itemValue="Coral Islander" />
                                        <f:selectItem itemLabel="Malaysian" itemValue="Malaysian" />
                                        <f:selectItem itemLabel="Thai" itemValue="Thai" />
                                        <f:selectItem itemLabel="Korean" itemValue="Korean" />
                                    </p:selectOneMenu>
                                    <p:message for="nationality" />

                                    <p:outputLabel for="religion" value="Religion: " />
                                    <p:selectOneMenu id="religion" required="true" value="#{careerManagedBean.religion}" style="width:125px" requiredMessage="Please select a religion" >
                                        <f:selectItem itemLabel="Select One" itemValue="" />
                                        <f:selectItem itemLabel="Buddhism" itemValue="Buddhism" />
                                        <f:selectItem itemLabel="Christianity" itemValue="Christianity" />
                                        <f:selectItem itemLabel="Catholic" itemValue="Catholic" />
                                        <f:selectItem itemLabel="Islam" itemValue="Islam" />
                                        <f:selectItem itemLabel="Hinduism" itemValue="Hinduism" />
                                        <f:selectItem itemLabel="Others" itemValue="Others" />
                                    </p:selectOneMenu>
                                    <p:message for="religion" />

                                    <p:outputLabel for="highestEducation" value="Education Qualification: " />
                                    <p:selectOneMenu id="highestEducation" required="true" value="#{careerManagedBean.highestEducation}" style="width:125px" requiredMessage="Please select an education qualification">
                                        <f:selectItem itemLabel="Select One" itemValue="" />
                                        <f:selectItem itemLabel="PhD" itemValue="PhD" />
                                        <f:selectItem itemLabel="Master's Degree" itemValue="Master's Degree" />
                                        <f:selectItem itemLabel="Bachelor's Degree" itemValue="Bachelor's Degree" />
                                        <f:selectItem itemLabel="Diploma" itemValue="Diploma" />
                                        <f:selectItem itemLabel="A Levels" itemValue="A Levels" />
                                        <f:selectItem itemLabel="O Levels" itemValue="O Levels" />
                                        <f:selectItem itemLabel="Others" itemValue="Others" />
                                    </p:selectOneMenu>
                                    <p:message for="highestEducation" />

                                    <p:outputLabel for="yearsOfExp" value="Years Of Experience: " />        
                                    <p:inputText id="yearsOfExp" value="#{careerManagedBean.yearsOfExp}" required="true" requiredMessage="Value is required in this field" >
                                    </p:inputText>
                                    <p:message for="yearsOfExp" />
                                    
                                    <p:spacer/><p:spacer/><p:spacer/>

                                    <h:outputText style="font-weight:bold; width: 30%" value="Latest Work Experience" /><p:spacer/><p:spacer/>

                                    <p:outputLabel for="position" value="Position: " />        
                                    <p:inputText id="position" required="true" value="#{careerManagedBean.position}" requiredMessage="Value is required in this field"/>
                                    <p:message for="position" />

                                    <p:outputLabel for="company" value="Company: " />        
                                    <p:inputText id="company" required="true" value="#{careerManagedBean.company}" requiredMessage="Value is required in this field"/>
                                    <p:message for="company" />

                                    <p:outputLabel for="startDate" value="Start Date: " />
                                    <p:calendar id="startDate" required="true" value="#{careerManagedBean.startDate}" maxdate="#{careerManagedBean.today}"  locale="de" navigator="true" pattern="dd/MM/yyyy" yearRange="c-80:c+0" requiredMessage="Please select a date">
                                        <p:ajax event="dateSelect" update="endDate" />
                                    </p:calendar>
                                    <p:message for="startDate" />

                                    <p:outputLabel for="endDate" value="End Date: " />
                                    <p:calendar id="endDate" required="true" value="#{careerManagedBean.endDate}" mindate="#{careerManagedBean.startDate}" maxdate="#{careerManagedBean.today}"  locale="de" navigator="true" pattern="dd/MM/yyyy" yearRange="c-80:c+0" requiredMessage="Please select a date"/>
                                    <p:message for="endDate" />

                                    <p:outputLabel for="jobIndustry" value="Industry: " />        
                                    <p:inputText id="jobIndustry" required="true" value="#{careerManagedBean.jobIndustry}" requiredMessage="Value is required in this field"/>
                                    <p:message for="jobIndustry" />

                                    <p:outputLabel for="summary" value="Summary of Job: " style="width:125px" />
                                    <p:inputTextarea counter="display" required="true" maxlength="2000" counterTemplate="{0} characters remaining." autoResize="false" id="summary" value="#{careerManagedBean.summary}" style="width:500px; height:200px;" requiredMessage="Value is required in this field"/>
                                    <p:message for="summary" />

                                    <p:spacer/><h:outputText id="display" /><p:spacer/>       
                                    <p:spacer/>

                                    <p:commandButton value="Apply" ajax="false" action="#{careerManagedBean.applyJob}" />
                                </h:panelGrid>
                            </h:form>
                        </div>
                    </td>
                </tr>
            </table>
        </ui:define>
</ui:composition>